<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/test.gif">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/test.gif">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/test.gif">
  <link rel="mask-icon" href="/images/test.gif" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"forestlyn.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Forestlyn&#39;s Blog">
<meta property="og:url" content="https://forestlyn.github.io/index.html">
<meta property="og:site_name" content="Forestlyn&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="forestlyn">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://forestlyn.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Forestlyn's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Forestlyn's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">万里长空，与卿共游。<br>韶华千年，不过转瞬。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="forestlyn"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">forestlyn</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/forestlyn" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;forestlyn" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/71ed4341.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
              <span class="post-sticky-flag" title="置顶">
                <i class="fa fa-thumbtack"></i>
              </span><a href="/71ed4341.html" class="post-title-link" itemprop="url">Play game!</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-11 00:00:00" itemprop="dateCreated datePublished" datetime="2023-12-11T00:00:00+08:00">2023-12-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-09-14 10:43:48" itemprop="dateModified" datetime="2024-09-14T10:43:48+08:00">2024-09-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9D%82%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>213</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>记录在玩的游戏
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/71ed4341.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/26e71b0a.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/26e71b0a.html" class="post-title-link" itemprop="url">tinyrenderer学习过程记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-02-19 11:15:30 / 修改时间：19:19:05" itemprop="dateCreated datePublished" datetime="2025-02-19T11:15:30+08:00">2025-02-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">图形学</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>14k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>25 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <span id="more"></span>

<h1 id="TinyRenderer"><a href="#TinyRenderer" class="headerlink" title="TinyRenderer"></a>TinyRenderer</h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki">https://github.com/ssloy/tinyrenderer/wiki</a></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/399056546">从零构建光栅器，tinyrenderer笔记（上） - 知乎</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/400791821">从零构建光栅器，tinyrenderer笔记（下） - 知乎</a></p>
<h1 id="lesson1-画线"><a href="#lesson1-画线" class="headerlink" title="lesson1 画线"></a>lesson1 画线</h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-1:-Bresenham%E2%80%99s-Line-Drawing-Algorithm">Lesson 1: Bresenham’s Line Drawing Algorithm · ssloy&#x2F;tinyrenderer Wiki (github.com)</a></p>
<p>不想交换xy，于是使用maxDelta 但思路方法类似</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">line</span><span class="params">(<span class="type">int</span> x0, <span class="type">int</span> y0, <span class="type">int</span> x1, <span class="type">int</span> y1, TGAImage &amp;image, TGAColor color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> dx = <span class="built_in">abs</span>(x0 - x1);</span><br><span class="line">	<span class="type">int</span> dy = <span class="built_in">abs</span>(y0 - y1);</span><br><span class="line">	<span class="type">int</span> maxDelta = dx &gt; dy ? dx : dy;</span><br><span class="line">	<span class="type">int</span> x_delta = x0 &lt; x1 ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">	<span class="type">int</span> y_delta = y0 &lt; y1 ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">	<span class="type">int</span> x = x0;</span><br><span class="line">	<span class="type">int</span> y = y0;</span><br><span class="line">	<span class="type">int</span> x_error = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> y_error = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> t = <span class="number">0</span>; t &lt;= maxDelta; t++)</span><br><span class="line">	&#123;</span><br><span class="line">		image.<span class="built_in">set</span>(x, y, color);</span><br><span class="line">		x_error += dx * <span class="number">2</span>;</span><br><span class="line">		y_error += dy * <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (x_error &gt; maxDelta)</span><br><span class="line">		&#123;</span><br><span class="line">			x += x_delta;</span><br><span class="line">			x_error -= maxDelta * <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (y_error &gt; maxDelta)</span><br><span class="line">		&#123;</span><br><span class="line">			y += y_delta;</span><br><span class="line">			y_error -= maxDelta * <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/202410032103351.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/202410032103351.png"></p>
<h1 id="lesson2-画实心三角形"><a href="#lesson2-画实心三角形" class="headerlink" title="lesson2 画实心三角形"></a>lesson2 画实心三角形</h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-2:-Triangle-rasterization-and-back-face-culling">Lesson 2: Triangle rasterization and back face culling · ssloy&#x2F;tinyrenderer Wiki (github.com)</a></p>
<h2 id="画实心三角形"><a href="#画实心三角形" class="headerlink" title="画实心三角形"></a>画实心三角形</h2><h3 id="思路1"><a href="#思路1" class="headerlink" title="思路1"></a>思路1</h3><p>思路1，如下图所示从xmin-xmax，扫描相交的两个点，再画线</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004153009255.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004153009255.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">line</span><span class="params">(Vec2i t0, Vec2i t1, TGAImage &amp;image, TGAColor color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">line</span>(t0.x, t0.y, t1.x, t1.y, image, color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">inRange</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> x0, <span class="type">int</span> x1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (x &lt;= x0 &amp;&amp; x &gt;= x1)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">if</span> (x &gt;= x0 &amp;&amp; x &lt;= x1)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Vec3i <span class="title">calculateIntersection</span><span class="params">(<span class="type">int</span> x, Vec2i t0, Vec2i t1, Vec2i t2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">float</span> dx1 = t1.x - t0.x;</span><br><span class="line">	<span class="type">float</span> dx2 = t2.x - t1.x;</span><br><span class="line">	<span class="type">float</span> dx3 = t0.x - t2.x;</span><br><span class="line">	<span class="type">float</span> dy1 = t1.y - t0.y;</span><br><span class="line">	<span class="type">float</span> dy2 = t2.y - t1.y;</span><br><span class="line">	<span class="type">float</span> dy3 = t0.y - t2.y;</span><br><span class="line">	<span class="type">float</span> y1 = <span class="number">-1</span>;</span><br><span class="line">	<span class="comment">// 注意dx=0</span></span><br><span class="line">	<span class="keyword">if</span> (dx1 != <span class="number">0</span> &amp;&amp; <span class="built_in">inRange</span>(x, t0.x, t1.x))</span><br><span class="line">	&#123;</span><br><span class="line">		y1 = (x - t0.x) / dx1 * dy1 + t0.y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">float</span> y2 = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">if</span> (dx2 != <span class="number">0</span> &amp;&amp; <span class="built_in">inRange</span>(x, t1.x, t2.x))</span><br><span class="line">	&#123;</span><br><span class="line">		y2 = (x - t1.x) / dx2 * dy2 + t1.y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">float</span> y3 = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">if</span> (dx3 != <span class="number">0</span> &amp;&amp; <span class="built_in">inRange</span>(x, t0.x, t2.x))</span><br><span class="line">	&#123;</span><br><span class="line">		y3 = (x - t2.x) / dx3 * dy3 + t2.y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Vec3i</span>(y1, y2, y3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">triangle</span><span class="params">(Vec2i t0, Vec2i t1, Vec2i t2, TGAImage &amp;image, TGAColor color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> minx = t0.x &lt; t1.x ? t0.x : t1.x;</span><br><span class="line">	minx = minx &lt; t2.x ? minx : t2.x;</span><br><span class="line">	<span class="type">int</span> maxx = t0.x &lt; t1.x ? t1.x : t0.x;</span><br><span class="line">	maxx = maxx &lt; t2.x ? t2.x : maxx;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> x = minx; x &lt;= maxx; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		Vec3i res = <span class="built_in">calculateIntersection</span>(x, t0, t1, t2);</span><br><span class="line">		<span class="keyword">if</span> (res.x == <span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">line</span>(x, res.y, x, res.z, image, color);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (res.y == <span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">line</span>(x, res.x, x, res.z, image, color);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (res.z == <span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">line</span>(x, res.x, x, res.y, image, color);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>很奇怪，少了一条线，分析发现两端点合一时导致没有-1，因此少画一根线</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004155914840.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004155914840.png"></p>
<p>修改calculateIntersection 考虑多种情况 </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Vec2i <span class="title">calculateIntersection</span><span class="params">(<span class="type">int</span> x, Vec2i t0, Vec2i t1, Vec2i t2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">float</span> dx1 = t1.x - t0.x;</span><br><span class="line">	<span class="type">float</span> dx2 = t2.x - t1.x;</span><br><span class="line">	<span class="type">float</span> dx3 = t0.x - t2.x;</span><br><span class="line">	<span class="type">float</span> dy1 = t1.y - t0.y;</span><br><span class="line">	<span class="type">float</span> dy2 = t2.y - t1.y;</span><br><span class="line">	<span class="type">float</span> dy3 = t0.y - t2.y;</span><br><span class="line">	<span class="type">float</span> y1 = <span class="number">-1</span>;</span><br><span class="line">	<span class="comment">// 注意dx=0</span></span><br><span class="line">	<span class="keyword">if</span> (x == t0.x)</span><br><span class="line">		y1 = t0.y;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (dx1 != <span class="number">0</span> &amp;&amp; <span class="built_in">inRange</span>(x, t0.x, t1.x))</span><br><span class="line">	&#123;</span><br><span class="line">		y1 = (x - t0.x) / dx1 * dy1 + t0.y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// printf(&quot;1 %f\n&quot;, y1);</span></span><br><span class="line">	<span class="type">float</span> y2 = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">if</span> (x == t1.x)</span><br><span class="line">		y2 = t1.y;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (dx2 != <span class="number">0</span> &amp;&amp; <span class="built_in">inRange</span>(x, t1.x, t2.x))</span><br><span class="line">	&#123;</span><br><span class="line">		y2 = (x - t1.x) / dx2 * dy2 + t1.y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// printf(&quot;2 %f\n&quot;, y2);</span></span><br><span class="line">	<span class="type">float</span> y3 = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">if</span> (x == t2.x)</span><br><span class="line">		y3 = t2.y;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (dx3 != <span class="number">0</span> &amp;&amp; <span class="built_in">inRange</span>(x, t0.x, t2.x))</span><br><span class="line">	&#123;</span><br><span class="line">		y3 = (x - t2.x) / dx3 * dy3 + t2.y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// printf(&quot;3 %f\n&quot;, y3);</span></span><br><span class="line">	<span class="keyword">if</span> (y1 == <span class="number">-1</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec2i</span>(y2, y3);</span><br><span class="line">	<span class="keyword">if</span> (y2 == <span class="number">-1</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec2i</span>(y1, y3);</span><br><span class="line">	<span class="keyword">if</span> (y3 == <span class="number">-1</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec2i</span>(y1, y2);</span><br><span class="line">	<span class="keyword">if</span> (y1 == y2 || y1 == y3)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec2i</span>(y2, y3);</span><br><span class="line">	<span class="keyword">if</span> (y2 == y3)</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec2i</span>(y1, y3);</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Vec2i</span>(y1, y2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">triangle</span><span class="params">(Vec2i t0, Vec2i t1, Vec2i t2, TGAImage &amp;image, TGAColor color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> minx = t0.x &lt; t1.x ? t0.x : t1.x;</span><br><span class="line">	minx = minx &lt; t2.x ? minx : t2.x;</span><br><span class="line">	<span class="type">int</span> maxx = t0.x &lt; t1.x ? t1.x : t0.x;</span><br><span class="line">	maxx = maxx &lt; t2.x ? t2.x : maxx;</span><br><span class="line">	<span class="comment">// line(t0, t1, image, color);</span></span><br><span class="line">	<span class="comment">// line(t1, t2, image, color);</span></span><br><span class="line">	<span class="comment">// line(t2, t0, image, color);</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> x = minx; x &lt;= maxx; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		Vec2i res = <span class="built_in">calculateIntersection</span>(x, t0, t1, t2);</span><br><span class="line">		<span class="built_in">line</span>(x, res.x, x, res.y, image, color);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="思路2"><a href="#思路2" class="headerlink" title="思路2"></a>思路2</h3><p>判断点P是否在三角形内，如下，叉乘获得垂直向量，再变换z&#x3D;1即可</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004175415622.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004175415622.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Vec3f <span class="title">barycentric</span><span class="params">(Vec2i ab, Vec2i ac, Vec2i pa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Vec3f u = <span class="built_in">Vec3f</span>(ab.x, ac.x, pa.x) ^ <span class="built_in">Vec3f</span>(ab.y, ac.y, pa.y);</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">abs</span>(u.z) &lt; <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec3f</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Vec3f</span>(<span class="number">1</span> - u.x / u.z - u.y / u.z, u.x / u.z, u.y / u.z);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Vec3f <span class="title">barycentric</span><span class="params">(Vec2i a, Vec2i b, Vec2i c, Vec2i p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">barycentric</span>(<span class="built_in">Vec2i</span>(b.x - a.x, b.y - a.y),</span><br><span class="line">					   <span class="built_in">Vec2i</span>(c.x - a.x, c.y - a.y),</span><br><span class="line">					   <span class="built_in">Vec2i</span>(a.x - p.x, a.y - p.y));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">triangle</span><span class="params">(Vec2i t0, Vec2i t1, Vec2i t2, TGAImage &amp;image, TGAColor color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> minx = std::<span class="built_in">min</span>(t0.x, t1.x);</span><br><span class="line">	minx = std::<span class="built_in">min</span>(minx, t2.x);</span><br><span class="line">	minx = std::<span class="built_in">max</span>(minx, <span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> maxx = std::<span class="built_in">max</span>(t0.x, t1.x);</span><br><span class="line">	maxx = std::<span class="built_in">max</span>(maxx, t2.x);</span><br><span class="line">	maxx = std::<span class="built_in">min</span>(width - <span class="number">1</span>, maxx);</span><br><span class="line">	<span class="type">int</span> miny = std::<span class="built_in">min</span>(t0.y, t1.y);</span><br><span class="line">	miny = std::<span class="built_in">min</span>(miny, t2.y);</span><br><span class="line">	miny = std::<span class="built_in">max</span>(miny, <span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> maxy = std::<span class="built_in">max</span>(t0.y, t1.y);</span><br><span class="line">	maxy = std::<span class="built_in">max</span>(maxy, t2.y);</span><br><span class="line">	maxy = std::<span class="built_in">min</span>(height - <span class="number">1</span>, maxy);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> x = minx; x &lt;= maxx; x++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> y = miny; y &lt;= maxy; y++)</span><br><span class="line">		&#123;</span><br><span class="line">			Vec3f res = <span class="built_in">barycentric</span>(t0, t1, t2, <span class="built_in">Vec2i</span>(x, y));</span><br><span class="line">			<span class="keyword">if</span> (res.x &lt; <span class="number">0</span> || res.y &lt; <span class="number">0</span> || res.z &lt; <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			image.<span class="built_in">set</span>(x, y, color);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>发现存在问题，有部分黑点，猜测是绘制不正确，即<br>• If two triangles have two common vertices, there should be no holes between them because of rasterization rounding.</p>
<p>思路一正常绘制</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004202933058.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241004202933058.png"></p>
<p>经过测试发现 先加再除！！很重要，float计算精度不够，存在误差！</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Vec3f <span class="title">barycentric</span><span class="params">(Vec2i ab, Vec2i ac, Vec2i pa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Vec3f u = <span class="built_in">Vec3f</span>(ab.x, ac.x, pa.x) ^ <span class="built_in">Vec3f</span>(ab.y, ac.y, pa.y);</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">abs</span>(u.z) &lt; <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Vec3f</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> ((<span class="number">1</span> - (u.x + u.y) / u.z) == <span class="number">0</span> &amp;&amp; (<span class="number">1</span> - (u.x) / u.z - (u.y) / u.z) != <span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%.20f %.20f\n&quot;</span>, <span class="number">1</span> - (u.x + u.y) / u.z, <span class="number">1</span> - (u.x) / u.z - (u.y) / u.z);</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">Vec3f</span>(<span class="number">1</span> - (u.x + u.y) / u.z, u.x / u.z, u.y / u.z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="lesson3-zbuffer-and-texture"><a href="#lesson3-zbuffer-and-texture" class="headerlink" title="lesson3 zbuffer and texture"></a>lesson3 zbuffer and texture</h1><h2 id="zbuffer"><a href="#zbuffer" class="headerlink" title="zbuffer"></a>zbuffer</h2><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-3:-Hidden-faces-removal-(z-buffer)">Lesson 3: Hidden faces removal (z buffer) · ssloy&#x2F;tinyrenderer Wiki (github.com)</a></p>
<p>增加zbuffer</p>
<p>code:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/debb71ba42d912866df973fc5043df151352d9f8">forestlyn&#x2F;TinyRenderer at debb71ba42d912866df973fc5043df151352d9f8 (github.com)</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241005115129513.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241005115129513.png"></p>
<p>改为光线*法向量</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241005123246681.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241005123246681.png"></p>
<h2 id="home-assignment"><a href="#home-assignment" class="headerlink" title="home assignment"></a>home assignment</h2><p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/82ed26c2737b52d9af741f38db00bd548cff2d69">forestlyn&#x2F;TinyRenderer at db6405c70881a256852c43fd1518feff7f11e741 (github.com)</a></p>
<p>需要仔细处理model读取，vt 和对应的f坐标都没读取</p>
<p>同时注意uv（0，0）在左下角，而图片 0，0在左上角，所以需要flip_vertically一下将（0，0）变为左上角方便获得color</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241005143355259.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241005143355259.png"></p>
<h1 id="lesson4-透视投影"><a href="#lesson4-透视投影" class="headerlink" title="lesson4 透视投影"></a>lesson4 透视投影</h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-4:-Perspective-projection">Lesson 4: Perspective projection · ssloy&#x2F;tinyrenderer Wiki (github.com)</a></p>
<p>点v在(-1,-1,-1)-(0,0,0)之间，先进行透视投影再映射到屏幕中</p>
<p>渲染出奇怪的东西，zbuffer有问题</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/635ec2cfcde3a9f10e251a6ec42e00936bdfaca1">forestlyn&#x2F;TinyRenderer at 635ec2cfcde3a9f10e251a6ec42e00936bdfaca1 (github.com)</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241006100255315.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241006100255315.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241006102236061.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241006102236061.png"></p>
<p>发现依旧是float问题，传入triange的点x,y需要是整数，否则渲染会出现一些裂缝。。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/3c69a5820053aa8442f0e73e8c2a3b67b5fe7a26">forestlyn&#x2F;TinyRenderer at 3c69a5820053aa8442f0e73e8c2a3b67b5fe7a26 (github.com)</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250219191433047.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250219191433047.png"></p>
<h1 id="lesson5-移动相机"><a href="#lesson5-移动相机" class="headerlink" title="lesson5 移动相机"></a>lesson5 移动相机</h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-5:-Moving-the-camera">Lesson 5: Moving the camera · ssloy&#x2F;tinyrenderer Wiki (github.com)</a></p>
<p>实现Model to Camera View</p>
<p>正交矩阵逆矩阵&#x3D;正交矩阵转置</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Matrix <span class="title">lookat</span><span class="params">(Vec3f eye, Vec3f center, Vec3f up)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Vec3f z = (eye - center).<span class="built_in">normalize</span>();</span><br><span class="line">	Vec3f x = (up ^ z).<span class="built_in">normalize</span>();</span><br><span class="line">	Vec3f y = (z ^ x).<span class="built_in">normalize</span>();</span><br><span class="line">	Matrix subO = Matrix::<span class="built_in">identity</span>(<span class="number">4</span>);</span><br><span class="line">	Matrix view = Matrix::<span class="built_in">identity</span>(<span class="number">4</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		view[<span class="number">0</span>][i] = x[i];</span><br><span class="line">		view[<span class="number">1</span>][i] = y[i];</span><br><span class="line">		view[<span class="number">2</span>][i] = z[i];</span><br><span class="line">		subO[i][<span class="number">3</span>] = -eye[i];</span><br><span class="line">	&#125;</span><br><span class="line">	Matrix ModelView = view * subO;</span><br><span class="line">	<span class="keyword">return</span> ModelView;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/a993af4e479153e4f27412c0507968c33d3a9870">forestlyn&#x2F;TinyRenderer at a993af4e479153e4f27412c0507968c33d3a9870 (github.com)</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241008135407573.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241008135407573.png"></p>
<h1 id="lesson6-shader"><a href="#lesson6-shader" class="headerlink" title="lesson6 shader"></a>lesson6 shader</h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-6:-Shaders-for-the-software-renderer">第 6 课：软件渲染器的着色器 · ssloy&#x2F;tinyrenderer Wiki — Lesson 6: Shaders for the software renderer · ssloy&#x2F;tinyrenderer Wiki (github.com)</a></p>
<p>重构代码过程中遇到一些错误，发现主要是坐标带来的，需要注意计算后得到的坐标除w分量，获得正确的转换坐标后，再来进行各种计算</p>
<p><strong>Exercise 1:</strong> Can you tell which image is represented in Darboux frame and which one is in the global coordinate frame?</p>
<p><strong>练习 1：</strong>你能分辨出哪个图像是在达布坐标系（切线空间）中表示的，哪个图像是在全局坐标系中表示的吗？</p>
<p>更蓝的是切线空间</p>
<p><strong>Exercise 2:</strong> Can you tell which representation is better and if yes, why is that?</p>
<p><strong>练习 2：</strong>你能说出哪种表示法更好吗？如果是，为什么？</p>
<p>切线空间</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23706933">(22 封私信) 为什么要有切线空间（Tangent Space），它的作用是什么？ - 知乎 (zhihu.com)</a></p>
<p>暂时不理解为什么都要转换XD</p>
<p>现在理解了：法线给的世界空间的法线XD</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vec3f n = <span class="built_in">proj</span>&lt;<span class="number">3</span>&gt;(uniform_MIT * <span class="built_in">embed</span>&lt;<span class="number">4</span>&gt;(model-&gt;<span class="built_in">normal</span>(uv))).<span class="built_in">normalize</span>();</span><br><span class="line">Vec3f l = <span class="built_in">proj</span>&lt;<span class="number">3</span>&gt;(uniform_M * <span class="built_in">embed</span>&lt;<span class="number">4</span>&gt;(light_dir)).<span class="built_in">normalize</span>();</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241009224510177.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241009224510177.png"></p>
<h2 id="fix-透视错误"><a href="#fix-透视错误" class="headerlink" title="fix 透视错误"></a>fix 透视错误</h2><p>参考：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/403259571">https://zhuanlan.zhihu.com/p/403259571</a></p>
<p>在屏幕空间计算重心导致透视错误，需要修正</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241023144508436.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241023144508436.png"></p>
<p>修复后</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241023160800946.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241023160800946.png"></p>
<h2 id="切线空间"><a href="#切线空间" class="headerlink" title="切线空间"></a>切线空间</h2><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-6bis:-tangent-space-normal-mapping">Lesson 6bis: tangent space normal mapping · ssloy&#x2F;tinyrenderer Wiki</a></p>
<p>实现切线</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/cc3aa813c403f382b8cca17af8b0b8ad34152b85">forestlyn&#x2F;TinyRenderer at cc3aa813c403f382b8cca17af8b0b8ad34152b85</a></p>
<p>非常明显的存在锐利边缘，存在错误</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241106201915240.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241106201915240.png"></p>
<p>破案了 修改后还用的世界空间贴图导致的😇</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// load_texture(filename, &quot;_nm.tga&quot;, normalmap_);</span><br><span class="line">load_texture(filename, &quot;_nm_tangent.tga&quot;, normalmap_);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/a7c59f59799d95bfd91e24ffb357c47b591fdd66">forestlyn&#x2F;TinyRenderer at a7c59f59799d95bfd91e24ffb357c47b591fdd66</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241106221021200.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241106221021200.png"></p>
<h1 id="lesson7-Shadow-mapping"><a href="#lesson7-Shadow-mapping" class="headerlink" title="lesson7 Shadow mapping"></a>lesson7 <strong>Shadow mapping</strong></h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-7:-Shadow-mapping">Lesson 7: Shadow mapping · ssloy&#x2F;tinyrenderer Wiki</a></p>
<p>实现阴影</p>
<ol>
<li>先按照光源所在位置计算一次zbuffer</li>
<li>在相机下计算实际图像，并且将点转换到光源世界下，比较z，绘制</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/93e48d1b709a2adaa9f51accd240fbcd7f9b6340">forestlyn&#x2F;TinyRenderer at 93e48d1b709a2adaa9f51accd240fbcd7f9b6340</a></p>
<p>some bug: depth设置为2000会出现，设置为200时正常，2不正常</p>
<p>发现是没有同步修改depth XD</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> frag_depth = std::<span class="built_in">max</span>(<span class="number">0</span>, std::<span class="built_in">min</span>(<span class="number">255</span>, <span class="built_in">int</span>(z / w + <span class="number">.5</span>)));</span><br><span class="line"><span class="type">int</span> frag_depth = std::<span class="built_in">max</span>(<span class="number">0</span>, std::<span class="built_in">min</span>((<span class="type">int</span>)depth, <span class="built_in">int</span>(z / w + <span class="number">.5</span>)));</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241108230037262.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241108230037262.png"></p>
<h2 id="增加glow"><a href="#增加glow" class="headerlink" title="增加glow"></a>增加glow</h2><p>在model中增加读取glowmap，再在颜色中加glow颜色</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">color[i] = std::min&lt;float&gt;(20 + c[i] * shadow * (1.2 * diff + .6 * spec) + glow[i] * 10, 255);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/5375f1e929d0b61147f8227c6cfe38c25d2358e0">forestlyn&#x2F;TinyRenderer at 5375f1e929d0b61147f8227c6cfe38c25d2358e0</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241120233647444.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241120233647444.png"></p>
<h1 id="lesson8-Ambient-occlusion-环境光遮挡"><a href="#lesson8-Ambient-occlusion-环境光遮挡" class="headerlink" title="lesson8 Ambient occlusion 环境光遮挡"></a>lesson8 <strong>Ambient occlusion 环境光遮挡</strong></h1><p><a target="_blank" rel="noopener" href="https://github.com/ssloy/tinyrenderer/wiki/Lesson-8:-Ambient-occlusion">第 8 课：环境光遮挡 · ssloy&#x2F;tinyrenderer Wiki — Lesson 8: Ambient occlusion · ssloy&#x2F;tinyrenderer Wiki</a></p>
<h2 id="取球上点"><a href="#取球上点" class="headerlink" title="取球上点"></a>取球上点</h2><p>**Question:**Do you know how to pick <strong>uniformly</strong>a thousand points on a (hemi-)sphere?</p>
<p><strong>问题：</strong>你知道如何在（半）球体上<strong>统一</strong>选取一千个点吗？</p>
<p>random和z轴，x轴的夹角 （error）会聚集在两极附近</p>
<p><a target="_blank" rel="noopener" href="https://mathworld.wolfram.com/SpherePointPicking.html">球体点选取——来自 Wolfram MathWorld — Sphere Point Picking – from Wolfram MathWorld</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241121234128764.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241121234128764.png"></p>
<p>使用以下公式重新绘制，感觉画多了之后也不太均匀？</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/aa9e960792e853be4ce215430f4fc10ef6379256">forestlyn&#x2F;TinyRenderer at aa9e960792e853be4ce215430f4fc10ef6379256</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241218104456679.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241218104456679.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241218105356168.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20241218105356168.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250113141041417.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250113141041417.png"></p>
<h3 id="fix-draw-sphere-bug"><a href="#fix-draw-sphere-bug" class="headerlink" title="fix draw sphere bug"></a>fix draw sphere bug</h3><p>破案了，原来是画了第一个不对的之后忘记clear了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sphereImage.<span class="built_in">clear</span>();</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/c7af07962275f49da0510a6d23f5650aa5569d3a">forestlyn&#x2F;TinyRenderer at c7af07962275f49da0510a6d23f5650aa5569d3a</a></p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250114220743083.png">https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250114220743083.png</a></p>
<p>修改IShader 对于片元增加传入屏幕坐标</p>
<p>不修改绘制三角形，于是修改了一下zshader</p>
<p>注意：原本传入的是屏幕坐标，作者在这一部分改成传入【-1，1】范围坐标，未×ViewPort</p>
<p>本人懒得改，于是选择修改zshader</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">fragment</span><span class="params">(Vec3f gl_FragCoord, Vec3f bar, TGAColor &amp;color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">float</span> z = bar * varying_tri[<span class="number">2</span>];</span><br><span class="line">	color = <span class="built_in">TGAColor</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>) * ((z + <span class="number">1.f</span>) / <span class="number">2.f</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250115175645614.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250115175645614.png"></p>
<p>occl如上图所示，Vscode的<strong>TGA Image Preview看不了GRAYSCALE图</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/09aabfbab73754d984df31fd7edd06063b6e9e42">forestlyn&#x2F;TinyRenderer at 09aabfbab73754d984df31fd7edd06063b6e9e42</a></p>
<p>还以为错了，结果ps打开就能看到。😢</p>
<p>注意由于total公式iter从1开始</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> iter = <span class="number">1</span>; iter &lt;= randomPointsNum; iter++)</span><br><span class="line">&#123;</span><br><span class="line">	......</span><br><span class="line">	total.<span class="built_in">set</span>(i, j, <span class="built_in">TGAColor</span>((tmp * (iter - <span class="number">1</span>) + occl.<span class="built_in">get</span>(i, j)[<span class="number">0</span>]) / (<span class="type">float</span>)iter + <span class="number">.5</span>f));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250115235933110.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250115235933110.png"></p>
<p><strong>Question:</strong> Why are there holes in obviously visible triangles?</p>
<p><strong>问：</strong>为什么明显可见的三角形里有洞？</p>
<p>guess: 有的地方看不到所以有洞（？<strong>错误，不管深度测试是否通过都画出来也有洞</strong></p>
<p>因此猜测是透视时部分点被舍入导致有洞，即</p>
<p>假设：uv对应100<em>100个点的区域透视到屏幕空间只有50</em>50的大小，于是进行三角形绘制只画了50*50个点，返回对应uv画回去，导致有洞（猜测不知道对不对）</p>
<p>进行一下验证，对于uv*1024点画图</p>
<p>test：进行绘制测试，不管深度进行绘制</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">fragment</span><span class="params">(Vec3f gl_FragCoord, Vec3f bar, TGAColor &amp;color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Vec2f uv = varying_uv * bar;</span><br><span class="line">	<span class="keyword">if</span> (std::<span class="built_in">abs</span>(shadowbuffer[<span class="built_in">int</span>(gl_FragCoord.x + gl_FragCoord.y * width)] - gl_FragCoord.z &lt; <span class="number">1e-2</span>))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// printf(&quot;occl\n&quot;);</span></span><br><span class="line">		occl.<span class="built_in">set</span>((<span class="type">int</span>)(uv.x * <span class="number">1024</span>), (<span class="type">int</span>)(uv.y * <span class="number">1024</span>), <span class="built_in">TGAColor</span>(<span class="number">255</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	occlTest.<span class="built_in">set</span>((<span class="type">int</span>)(uv.x * <span class="number">1024</span>), (<span class="type">int</span>)(uv.y * <span class="number">1024</span>), <span class="built_in">TGAColor</span>(<span class="number">255</span>));</span><br><span class="line">	color = <span class="built_in">TGAColor</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>画100次出来occlTest如下所示，也存在洞</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250116000945832.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250116000945832.png"></p>
<p><strong>Question:</strong> Why are there triangles more densely covered than others?</p>
<p><strong>问题：</strong>为什么有些三角形比其他三角形覆盖得更密？</p>
<p>可见性（？</p>
<h2 id="根据occlusion绘制"><a href="#根据occlusion绘制" class="headerlink" title="根据occlusion绘制"></a>根据occlusion绘制</h2><p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/b01c8adef16e8ab19b51b65e1802a331d33c9c2c">forestlyn&#x2F;TinyRenderer at b01c8adef16e8ab19b51b65e1802a331d33c9c2c</a></p>
<p>画出来显示有些奇怪</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250211213244636.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250211213244636.png"></p>
<p>需要反转一下图片XD</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/20430cceea2bafa1e2b10a1817ee1e6a2b498c24">forestlyn&#x2F;TinyRenderer at 20430cceea2bafa1e2b10a1817ee1e6a2b498c24</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250211220911235.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250211220911235.png"></p>
<h2 id="使用梯度计算"><a href="#使用梯度计算" class="headerlink" title="使用梯度计算"></a>使用梯度计算</h2><p>计算八个方向梯度来计算颜色，计算pow&#x3D;1时</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250212223503310.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250212223503310.png"></p>
<p>pow&#x3D;5</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250212223748637.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250212223748637.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250212230019288.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250212230019288.png"></p>
<p>有些奇怪，就这样了</p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/6ca9796c3d9ca7b8a97a0b27311b9c4d2ddf5849">forestlyn&#x2F;TinyRenderer at 6ca9796c3d9ca7b8a97a0b27311b9c4d2ddf5849</a></p>
<h1 id="lesson9-Real-OpenGL-GLSL-application"><a href="#lesson9-Real-OpenGL-GLSL-application" class="headerlink" title="lesson9:Real OpenGL (GLSL) application"></a>lesson9:<strong>Real OpenGL (GLSL) application</strong></h1><p>安装一下包</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/cralor/p/14015063.html">Win10 + VSCode + GLUT 配置 - cralor - 博客园</a></p>
<p>把glut.h移动到文件夹下</p>
<p>make报错</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">g++ -Wall  -o ./main main.o -lm -lGL -lglut -lGLU</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot find -lGL</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: skipping incompatible F:/in::/inst::::::::::::/install/Mingw64/mingw:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../lib/glut.lib when searching <span class="keyword">for</span> -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: skipping incompatible F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../glut.lib when searching <span class="keyword">for</span> -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: skipping incompatible F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../lib/glut.lib when searching <span class="keyword">for</span> -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: skipping incompatible F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../lib\glut.lib when searching <span class="keyword">for</span> -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: skipping incompatible F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../glut.lib when searching <span class="keyword">for</span> -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: skipping incompatible F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../..\glut.lib when searching <span class="keyword">for</span> -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot find -lglut</span><br><span class="line">F:/install/Mingw64/mingw64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/<span class="number">8.1</span><span class="number">.0</span>/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot find -lGLU</span><br><span class="line">collect2.exe: error: ld returned <span class="number">1</span> exit status</span><br><span class="line">make: *** [Makefile:<span class="number">14</span>: main] Error <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>整了半天没解决，干脆安装<a target="_blank" rel="noopener" href="https://www.msys2.org/">MSYS2 — MSYS2</a>的mingw make 设置环境变量等</p>
<p>pacman -S mingw-w64-x86_64-freeglut</p>
<p>成功了</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250216150208900.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250216150208900.png"></p>
<h2 id="shader-glsl"><a href="#shader-glsl" class="headerlink" title="shader:glsl"></a>shader:glsl</h2><p>简单的shader</p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250217224653796.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250217224653796.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250217224343952.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250217224343952.png"></p>
<p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/6ed21076a655211a97568ecb7131f324cdbd45ba">forestlyn&#x2F;TinyRenderer at 6ed21076a655211a97568ecb7131f324cdbd45ba</a></p>
<h2 id="使用shader加快绘制正交投影"><a href="#使用shader加快绘制正交投影" class="headerlink" title="使用shader加快绘制正交投影"></a>使用shader加快绘制正交投影</h2><p><a target="_blank" rel="noopener" href="https://github.com/forestlyn/TinyRenderer/tree/d3b34fddf9914cceaaf84b27c84c37ec0e01f64e">forestlyn&#x2F;TinyRenderer at d3b34fddf9914cceaaf84b27c84c37ec0e01f64e</a></p>
<p>感觉比较难理解的是frag.glsl</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#version 120</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">uniform</span> <span class="type">vec4</span> viewport;</span><br><span class="line"><span class="keyword">varying</span> <span class="type">float</span> radius;</span><br><span class="line"><span class="keyword">varying</span> <span class="type">vec2</span> center;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> main(<span class="type">void</span>) &#123;</span><br><span class="line">    <span class="comment">// 获得当前待处理像素在 NDC 坐标系中的位置，方便后续计算</span></span><br><span class="line">    <span class="comment">// 由于 gl_FragCoord 是在窗口坐标系中的，所以需要转换</span></span><br><span class="line">    <span class="comment">// 使用二维的NCD坐标，因为球在无论哪个角度投影都是圆</span></span><br><span class="line">    <span class="type">vec2</span> ndc_current_pixel = ((<span class="number">2.0</span> * <span class="built_in">gl_FragCoord</span>.xy) - (<span class="number">2.0</span> * viewport.xy)) / (viewport.zw) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算当前像素与圆心的距离 也是在二维NDC坐标系中</span></span><br><span class="line">    <span class="type">vec2</span> diff = ndc_current_pixel - center;</span><br><span class="line">    <span class="type">float</span> d2 = <span class="built_in">dot</span>(diff, diff);</span><br><span class="line">    <span class="type">float</span> r2 = radius * radius;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 大于丢弃，小于则计算光照强度</span></span><br><span class="line">    <span class="keyword">if</span>(d2 &gt; r2) &#123;</span><br><span class="line">        <span class="keyword">discard</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 计算光照强度</span></span><br><span class="line">        <span class="comment">// 获得光线方向</span></span><br><span class="line">        <span class="type">vec3</span> l = <span class="built_in">normalize</span>(<span class="built_in">gl_LightSource</span>[<span class="number">0</span>].position.xyz);</span><br><span class="line">        <span class="comment">// 直角三角形计算出z方向的长度</span></span><br><span class="line">        <span class="type">float</span> dr = <span class="built_in">sqrt</span>(r2 - d2);</span><br><span class="line">        <span class="comment">// 法向量</span></span><br><span class="line">        <span class="type">vec3</span> n = <span class="type">vec3</span>(ndc_current_pixel - center, dr);</span><br><span class="line">        <span class="comment">// 计算光照强度</span></span><br><span class="line">        <span class="type">float</span> intensity = <span class="number">.2</span> + <span class="built_in">max</span>(<span class="built_in">dot</span>(l, <span class="built_in">normalize</span>(n)), <span class="number">0.0</span>);</span><br><span class="line">        <span class="built_in">gl_FragColor</span> = <span class="built_in">gl_Color</span> * intensity;</span><br><span class="line">        <span class="comment">// 计算当前像素实际深度</span></span><br><span class="line">        <span class="comment">// gl_FragCoord.z是待处理像素的深度，范围[0,1]，由于渲染的是点，深度就是点的深度</span></span><br><span class="line">        <span class="comment">// dr是ndc坐标中的z方向长度，后半段计算像素相对点的深度，由于ndc范围【-1，1】</span></span><br><span class="line">        <span class="comment">// 所以需要乘以gl_DepthRange.diff / 2.0 得到对应【0，1】深度范围的值</span></span><br><span class="line">        <span class="comment">// 再* gl_ProjectionMatrix[2].z获得窗口范围的值</span></span><br><span class="line">        <span class="built_in">gl_FragDepth</span> = <span class="built_in">gl_FragCoord</span>.z + dr * <span class="built_in">gl_DepthRange</span>.diff / <span class="number">2.0</span> * <span class="built_in">gl_ProjectionMatrix</span>[<span class="number">2</span>].z;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250218213205817.png" alt="https://cdn.jsdelivr.net/gh/forestlyn/Drawing-bed/blog/image-20250218213205817.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/b947cda5.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/b947cda5.html" class="post-title-link" itemprop="url">frp xtcp/stcp实现内网穿透远程电脑</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-01-07 23:28:46 / 修改时间：23:30:10" itemprop="dateCreated datePublished" datetime="2025-01-07T23:28:46+08:00">2025-01-07</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>frp xtcp&#x2F;stcp实现内网穿透远程电脑
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/b947cda5.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/fa6899ba.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/fa6899ba.html" class="post-title-link" itemprop="url">制作一个久坐提醒器（windows）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-01-10 00:00:00 / 修改时间：16:44:58" itemprop="dateCreated datePublished" datetime="2024-01-10T00:00:00+08:00">2024-01-10</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>686</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>制作一个久坐提醒器（windows)
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/fa6899ba.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/ba7c3468.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/ba7c3468.html" class="post-title-link" itemprop="url">VisualStudio写一个dll</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-22 00:00:00 / 修改时间：15:39:38" itemprop="dateCreated datePublished" datetime="2023-12-22T00:00:00+08:00">2023-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c#</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>346</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>VisualStudio写一个dll
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/ba7c3468.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/4482fa7b.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/4482fa7b.html" class="post-title-link" itemprop="url">VisualStudio导入本地dll</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-22 00:00:00 / 修改时间：15:37:36" itemprop="dateCreated datePublished" datetime="2023-12-22T00:00:00+08:00">2023-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c#</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>489</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>VisualStudio导入本地dll
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/4482fa7b.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/78134e07.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/78134e07.html" class="post-title-link" itemprop="url">命令模式在游戏中的应用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-12 00:00:00 / 修改时间：23:29:54" itemprop="dateCreated datePublished" datetime="2023-12-12T00:00:00+08:00">2023-12-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>8 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>设计模式：命令模式（Command)
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/78134e07.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/335d71e2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/335d71e2.html" class="post-title-link" itemprop="url">unity 协程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-08 00:00:00" itemprop="dateCreated datePublished" datetime="2023-12-08T00:00:00+08:00">2023-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-09-21 14:27:41" itemprop="dateModified" datetime="2024-09-21T14:27:41+08:00">2024-09-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>16k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>29 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Unity 协程原理
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/335d71e2.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/55803f34.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/55803f34.html" class="post-title-link" itemprop="url">ExcelToScriptableObject</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-29 00:00:00" itemprop="dateCreated datePublished" datetime="2022-07-29T00:00:00+08:00">2022-07-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-09 19:28:14" itemprop="dateModified" datetime="2023-12-09T19:28:14+08:00">2023-12-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Excel导入数据创建ScriptableObject</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/55803f34.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://forestlyn.github.io/f5048c5d.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="forestlyn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Forestlyn's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/f5048c5d.html" class="post-title-link" itemprop="url">迷失岛</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-28 00:00:00" itemprop="dateCreated datePublished" datetime="2022-07-28T00:00:00+08:00">2022-07-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-09 19:28:14" itemprop="dateModified" datetime="2023-12-09T19:28:14+08:00">2023-12-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C#</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>10 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>迷失岛
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/f5048c5d.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">鄂ICP备2024034079号 </a>
  </div>
  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">forestlyn</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">64k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:57</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
